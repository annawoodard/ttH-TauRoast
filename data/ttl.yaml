# vim: set sw=4 sta et :

channel: ttl
generator: pow
ntupledir: /hadoop/store/user/matze/ttH/v28
# ntupledir: /scratch365/mwolf3/ttH/v25
outdir: ~/www/ttH/v28
histformat: "{p}_{c}_{v}_TTL"

lumi: 2517

plot:
  - collisions
  - ttjets
  # - ttjets_sl
  # - ttjets_dl
  # - ttjets_semilept
  # - ttjets_fulllept
  - singletop
  - ewk
  - ttH_125
  # - ttH2bb_125
  # - ttH2Nonbb_125
  - ttH2TT_125
  - ttH2TT_125_real

limits:
  - collisions
  - ttjets
  - ttH_125

cuts:
  - "Trigger": "(leptons[0].electron() and event.trigger().single_e()) or (leptons[0].muon() and event.trigger().single_mu())"
  - "e/μ quality": "len(leptons) == 1 and all_of(leptons.begin(), leptons.end(), [](const superslim::Lepton& l) { return l.selected(superslim::Lepton::LJ); })"
  - "τ quality": "len(taus) == 2 and all_of(taus.begin(), taus.end(), [](const superslim::Tau& t) { return t.isolationMVA03() >= superslim::id::Medium; })"
  - "Jets": "len(jets) >= 2"
  - "Tags": "btags(jets) == 1 or btags(jets) == 2"
  - "ΔR(ττ)  > 0.5": "dR(taus[0], taus[1]) > 0.5"
  - "ΔR(τ₁l) > 0.4": "dR(taus[0], leptons[0]) > 0.4"
  - "ΔR(τ₂l) > 0.4": "dR(taus[1], leptons[0]) > 0.4"
  - "Opposite charge for τ": "taus[0].charge() * taus[1].charge() < 0"

weights:
  - Generator
  - CSVWeight
  - PUWeight

# Allowed values: JES{Up,Down}, JER{Up,Down}, NA
systematics: NA

categories:
  - inclusive: ""
  - electron: "nelectrons == 1"
  - muon: "nmuons == 1"
  - 2j: "njets + ntags == 2"
  - 3j: "njets + ntags == 3"
  - 4j: "njets + ntags >= 4"

mva:
    signals:
      - ttH2TT_125_real
    backgrounds:
      - ttjets
    variables:
      - met
      - ht
      - tau1_pt
      - tau2_pt
      - lep1_pt
